{% extends 'layout/dash.html' %}
{% load static %}
{% load crispy_forms_tags %}


{% block body %}

<div class="row">
  <div class="col-sm-12">

        {% if user.profile.subscription_type == 'free' %}
        <div class="alert alert-warning mb-3">
          <strong>You are currently on the FREE tier!</strong>
          <hr class="message-inner-separator">
          <p class="mb-0">You have used <b>{{month_word_count}}</b> of your <b>{{user_curr_tier.package_max_word}}</b> allowance so far <br>
            You can cancel this subscription at any time. If you enjoy creating with us,
            you can upgrade to the INITIATOR tier and get up to 40 000 words created per month.</p>
        </div>
        <div class="card">
          <h5 class="card-header">Availabe Subscription Plans</h5>
          <div class="row">

            <div class="col-xs-12 col-md-6 col-xl-3 mt-2">
              <div class="panel price  panel-color card overflow-hidden">
                <div class="ribbon ribbon-top-left text-success"><span class="bg-success">Initiator</span></div>
                <div class="panel-body text-center">
                  <p class="display-5 mb-0">R550</p>
                </div>
                <ul class="list-group list-group-flush text-center">
                  <li class="list-group-item">Generate <span class="font-weight-semibold">40 000*</span> Words</li>
                  <li class="list-group-item"><span class="font-weight-semibold">500 </span>Memories </li>
                  <li class="list-group-item">Max <span class="font-weight-semibold">2 </span>Devices Login </li>
                  <li class="list-group-item"><span class="font-weight-semibold">Mobile </span>Device Support </li>
                  <li class="list-group-item"><span class="font-weight-semibold"> 24/7</span> support</li>
                </ul>
                <div class="panel-footer text-center border-top-0">
                  <a class="btn btn-success" href="{% url 'process-initiator-plan' %}">Purchase Now</a>
                </div>
              </div>
            </div>

            <div class="col-xs-12 col-md-6 col-xl-3 mt-2">
              <div class="panel price  panel-color card overflow-hidden">
                <div class="ribbon ribbon-top-left text-primary"><span class="bg-primary">Teams</span></div>
                <div class="panel-body text-center">
                  <p class="display-5 mb-0">R1550</p>
                </div>
                <ul class="list-group list-group-flush text-center">
                  <li class="list-group-item">Generate <span class="font-weight-semibold">UNLIMITED*</span> Words</li>
                  <li class="list-group-item"><span class="font-weight-semibold"> 10500 </span>Memories </li>
                  <li class="list-group-item">Max <span class="font-weight-semibold">5 </span>Devices Login </li>
                  <li class="list-group-item"><span class="font-weight-semibold">Mobile </span>Device Support </li>
                  <li class="list-group-item"><span class="font-weight-semibold"> 24/7</span> support</li>
                </ul>
                <div class="panel-footer text-center border-top-0">
                  <a class="btn btn-primary" href="{% url 'process-initiator-plan' %}">Purchase Now</a>
                </div>
              </div>
            </div>

          </div>
          
          <!-- <div id="paypal-button-container1"></div> -->

        {% elif user.profile.subscription_type == 'initiator' %}
          <div class="alert alert-success">
            <strong>You are currently on the INITIATOR tier!</strong>
            <hr class="message-inner-separator">
            <p class="mb-0">You have used <b>{{month_word_count}}</b> of your <b>{{user_curr_tier.package_max_word}}</b> allowance so far <br>You can cancel this subscription at any time. If you enjoy creating with us,
              you can upgrade to the TEAMS tier and get UNLIMITED words created per month.</p>
          </div>
          <h5 class="card-header">Availabe Subscription Plans</h5>
          <div class="row">

            <div class="col-xs-12 col-md-6 col-xl-3 mt-2">
              <div class="panel price  panel-color card overflow-hidden">
                <div class="ribbon ribbon-top-left text-primary"><span class="bg-primary">Teams</span></div>
                <div class="panel-body text-center">
                  <p class="display-5 mb-0">R1550</p>
                </div>
                <ul class="list-group list-group-flush text-center">
                  <li class="list-group-item">Generate <span class="font-weight-semibold">UNLIMITED*</span> Words</li>
                  <li class="list-group-item"><span class="font-weight-semibold"> 10500 </span>Memory </li>
                  <li class="list-group-item">Max <span class="font-weight-semibold">5 </span>Devices Login </li>
                  <li class="list-group-item"><span class="font-weight-semibold">Mobile </span>Device Support </li>
                  <li class="list-group-item"><span class="font-weight-semibold"> 24/7</span> support</li>
                </ul>
                <div class="panel-footer text-center border-top-0">
                  <a class="btn btn-primary" href="{% url 'process-initiator-plan' %}">Purchase Now</a>
                </div>
              </div>
            </div>
          </div>
        {% elif user.profile.subscription_type == 'teams' %}
          <div class="alert alert-primary">
            <strong>You are currently on the TEAMS tier!</strong>
            <hr class="message-inner-separator">
            <p class="mb-0">You have used <b>{{month_word_count}}</b> of your <b>UNLIMITED</b> allowance so far <br>You can cancel this subscription at any time. If you enjoy creating with us,
              you get UNLIMITED words created per month.</p>
          </div>
        {% else %}
          <div class="alert alert-danger">
            <strong>Something went wrong!</strong>
            <hr class="message-inner-separator">
            <p class="mb-0">Please contact our support team for assistance.</p>
          </div>
        {% endif %}

        </div>

      </div>
    </div>
  </div>
</div>

{% endblock %}
